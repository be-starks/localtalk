<link rel="stylesheet" href="/css/small-jumbotron.css" media="screen" charset="utf-8">

<style media="screen">
    .user-listings {
        border-top: 1px dotted rgb(242,242,242);
        margin-top: 14px;
    }
    .user-listings .panel-item {
        display: inline-block;
        min-width: 200px;
        max-width: 300px;
        max-height: 300px;
        min-height: 75px;
        position: relative;
        vertical-align: top;
        margin: 10px 14px;
    }
    .user-listings .panel-body {
        padding-bottom: 5px;
    }
    .user-listings .panel-item .panel-heading {
        white-space: nowrap;
        overflow-x: hidden;
    }
    .user-listings .panel-heading a {
        text-decoration: none;
    }.user-listings .panel-heading a:hover {
        color: rgb(119,119,119);
    }
    .user-listings .edit-link-ghost { line-height: 16px; padding: 3px; }
    .user-listings .edit-link {
        line-height: 16px;
        margin-bottom: 0px;
        bottom: 0px; right:0px; left:0px; top:auto;
        border-top: 1px dotted rgb(242,242,242); background-color: white; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;
        text-align: right;
        padding:3px; padding-right: 14px;
        position: absolute;
    }.user-listings .edit-link a::before {
        content: "edit"
    }
    .paginated-container {
        padding: 14px 26px;
    }
    .user-listings .listing-pricing {
        margin: 6px 0px;
    }
</style>

<div class="container paginated-container" ng-if="!!globals.user" ng-controller="ProfileController">
    <div class="small-jumbotron">
        <label>{{globals.user.username}}</label>
        <span></span>
        <label>{{globals.user.email ? globals.user.email : "__email__"}}</label>
    </div>
    <div class="user-listings">
        <div class="panel panel-default panel-item" ng-repeat="(key, listing) in listings">
            <div class="panel-heading">
                <h4 class="panel-title"><a href="/listings/{{listing._id}}"><b style="margin-right: 10px;" ng-if="hasNumericPrice(listing)">{{getPriceStr(listing)}}</b> {{listing.headline}}</a></h4>
            </div>
            <div class="panel-body">
                {{listing.details}}
                <p ng-if="hasNumericPrice(listing) || listing.pricing.info" class="listing-pricing">
                    <b style="margin-right: 7px;" ng-if="hasNumericPrice(listing)">{{getPriceStr(listing)}}</b> <small>{{listing.pricing.info}}</small>
                </p>
                <div class="edit-link">
                    <a href="/listings/edit/{{listing._id}}"></a>
                </div>
                <div class="edit-link-ghost">~</div>
            </div>
        </div>
    </div>
</div>
